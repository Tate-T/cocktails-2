{"version":3,"file":"commonHelpers.js","sources":["../src/app.js"],"sourcesContent":["import { CocktailAPI } from \"./js/API/api.js\";\nimport { CocktailComponents } from \"./js/components/renderCoctails.js\";\n\ndocument.addEventListener(\"DOMContentLoaded\", initApp);\n\nasync function searchHeader() {\n  const search = document.querySelector(\".header__btn\");\n  const searchInput = document.querySelector(\".header__input\");\n  const cocktailsList = document.querySelector(\".cocktails__list\");\n\n  search.addEventListener(\"click\", async (e) => {\n    try {\n      const data = await CocktailAPI.fetchCocktailsByName(searchInput.value);\n      CocktailComponents.renderCocktailsList(cocktailsList, data);\n    } catch (error) {\n      handleError(cocktailsList);\n    }\n  });\n}\n\nsearchHeader();\n\nasync function initApp() {\n  const cocktailsList = document.querySelector(\".cocktails__list\");\n\n  try {\n    const data = await CocktailAPI.fetchNonAlcoholicCocktails();\n    CocktailComponents.renderCocktailsList(cocktailsList, data.drinks);\n  } catch (error) {\n    handleError(cocktailsList);\n  }\n\n  cocktailsList.addEventListener(\"click\", handleCocktailClick);\n}\n\nfunction handleError(container) {\n  console.error(\"Error:\");\n  container.innerHTML = `\n    <li class=\"error-item\">\n      <p class=\"error-message\">Sorry, we didn't find any cocktail for you</p>\n\t\t<img class=\"error-image\" src=\"./images/failed.png\" alt=\"failed to load cocktails\">\n    </li>\n  `;\n}\n\nasync function handleCocktailClick(event) {\n  const learnMoreBtn = event.target.closest(\".cocktails__learn-more\");\n  if (!learnMoreBtn) return;\n\n  const cocktailItem = learnMoreBtn.closest(\".cocktails__item\");\n  const cocktailId = cocktailItem.dataset.id;\n\n  try {\n    const data = await CocktailAPI.fetchCocktailById(cocktailId);\n    const modalHtml = CocktailComponents.renderModal(data.drinks[0]);\n    document.body.insertAdjacentHTML(\"beforeend\", modalHtml);\n    setupModal();\n  } catch (error) {\n    console.error(\"Failed to fetch cocktail details:\", error);\n  }\n}\n\nfunction setupModal() {\n  const backdrop = document.querySelector(\".cocktails-modal__backdrop\");\n  backdrop.classList.add(\"is-visible\");\n\n  const closeBtn = backdrop.querySelector(\".cocktails-modal__close\");\n  closeBtn.addEventListener(\"click\", () => {\n    backdrop.remove();\n  });\n\n  backdrop.addEventListener(\"click\", (event) => {\n    if (event.target === backdrop) {\n      backdrop.remove();\n    }\n  });\n}\n"],"names":["initApp","searchHeader","search","searchInput","cocktailsList","e","data","CocktailAPI","CocktailComponents","handleError","handleCocktailClick","container","event","learnMoreBtn","cocktailId","modalHtml","setupModal","error","backdrop"],"mappings":"gGAGA,SAAS,iBAAiB,mBAAoBA,CAAO,EAErD,eAAeC,GAAe,CAC5B,MAAMC,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAgB,SAAS,cAAc,kBAAkB,EAE/DF,EAAO,iBAAiB,QAAS,MAAOG,GAAM,CAC5C,GAAI,CACF,MAAMC,EAAO,MAAMC,EAAY,qBAAqBJ,EAAY,KAAK,EACrEK,EAAmB,oBAAoBJ,EAAeE,CAAI,CAC3D,MAAe,CACdG,EAAYL,CAAa,CAC1B,CACL,CAAG,CACH,CAEAH,IAEA,eAAeD,GAAU,CACvB,MAAMI,EAAgB,SAAS,cAAc,kBAAkB,EAE/D,GAAI,CACF,MAAME,EAAO,MAAMC,EAAY,6BAC/BC,EAAmB,oBAAoBJ,EAAeE,EAAK,MAAM,CAClE,MAAe,CACdG,EAAYL,CAAa,CAC1B,CAEDA,EAAc,iBAAiB,QAASM,CAAmB,CAC7D,CAEA,SAASD,EAAYE,EAAW,CAC9B,QAAQ,MAAM,QAAQ,EACtBA,EAAU,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA,GAMxB,CAEA,eAAeD,EAAoBE,EAAO,CACxC,MAAMC,EAAeD,EAAM,OAAO,QAAQ,wBAAwB,EAClE,GAAI,CAACC,EAAc,OAGnB,MAAMC,EADeD,EAAa,QAAQ,kBAAkB,EAC5B,QAAQ,GAExC,GAAI,CACF,MAAMP,EAAO,MAAMC,EAAY,kBAAkBO,CAAU,EACrDC,EAAYP,EAAmB,YAAYF,EAAK,OAAO,CAAC,CAAC,EAC/D,SAAS,KAAK,mBAAmB,YAAaS,CAAS,EACvDC,GACD,OAAQC,EAAO,CACd,QAAQ,MAAM,oCAAqCA,CAAK,CACzD,CACH,CAEA,SAASD,GAAa,CACpB,MAAME,EAAW,SAAS,cAAc,4BAA4B,EACpEA,EAAS,UAAU,IAAI,YAAY,EAElBA,EAAS,cAAc,yBAAyB,EACxD,iBAAiB,QAAS,IAAM,CACvCA,EAAS,OAAM,CACnB,CAAG,EAEDA,EAAS,iBAAiB,QAAUN,GAAU,CACxCA,EAAM,SAAWM,GACnBA,EAAS,OAAM,CAErB,CAAG,CACH"}