{"version":3,"file":"commonHelpers.js","sources":["../src/app.js"],"sourcesContent":["import { CocktailAPI } from \"./js/API/api.js\";\r\nimport { CocktailComponents } from \"./js/components/renderCoctails.js\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", initApp);\r\n\r\nasync function searchHeader() {\r\n  const search = document.querySelector(\".header__btn\");\r\n  const searchInput = document.querySelector(\".header__input\");\r\n  const cocktailsList = document.querySelector(\".cocktails__list\");\r\n\r\n  search.addEventListener(\"click\", async (e) => {\r\n    try {\r\n      const data = await CocktailAPI.fetchCocktailsByName(searchInput.value);\r\n      CocktailComponents.renderCocktailsList(cocktailsList, data);\r\n    } catch (error) {\r\n      handleError(cocktailsList);\r\n    }\r\n  });\r\n}\r\n\r\nsearchHeader();\r\n\r\nasync function initApp() {\r\n  const cocktailsList = document.querySelector(\".cocktails__list\");\r\n\r\n  try {\r\n    const data = await CocktailAPI.fetchNonAlcoholicCocktails();\r\n    CocktailComponents.renderCocktailsList(cocktailsList, data.drinks);\r\n  } catch (error) {\r\n    handleError(cocktailsList);\r\n  }\r\n\r\n  cocktailsList.addEventListener(\"click\", handleCocktailClick);\r\n}\r\n\r\nfunction handleError(container) {\r\n  console.error(\"Error:\");\r\n  container.innerHTML = `\r\n    <li class=\"error-item\">\r\n      <p class=\"error-message\">Sorry, we didn't find any cocktail for you</p>\r\n\t\t<img class=\"error-image\" src=\"./images/failed.png\" alt=\"failed to load cocktails\">\r\n    </li>\r\n  `;\r\n}\r\n\r\nasync function handleCocktailClick(event) {\r\n  const learnMoreBtn = event.target.closest(\".cocktails__learn-more\");\r\n  if (!learnMoreBtn) return;\r\n\r\n  const cocktailItem = learnMoreBtn.closest(\".cocktails__item\");\r\n  const cocktailId = cocktailItem.dataset.id;\r\n\r\n  try {\r\n    const data = await CocktailAPI.fetchCocktailById(cocktailId);\r\n    const modalHtml = CocktailComponents.renderModal(data.drinks[0]);\r\n    document.body.insertAdjacentHTML(\"beforeend\", modalHtml);\r\n    setupModal();\r\n  } catch (error) {\r\n    console.error(\"Failed to fetch cocktail details:\", error);\r\n  }\r\n}\r\n\r\nfunction setupModal() {\r\n  const backdrop = document.querySelector(\".cocktails-modal__backdrop\");\r\n  backdrop.classList.add(\"is-visible\");\r\n\r\n  const closeBtn = backdrop.querySelector(\".cocktails-modal__close\");\r\n  closeBtn.addEventListener(\"click\", () => {\r\n    backdrop.remove();\r\n  });\r\n\r\n  backdrop.addEventListener(\"click\", (event) => {\r\n    if (event.target === backdrop) {\r\n      backdrop.remove();\r\n    }\r\n  });\r\n}\r\n"],"names":["initApp","searchHeader","search","searchInput","cocktailsList","e","data","CocktailAPI","CocktailComponents","handleError","handleCocktailClick","container","event","learnMoreBtn","cocktailId","modalHtml","setupModal","error","backdrop"],"mappings":"gGAGA,SAAS,iBAAiB,mBAAoBA,CAAO,EAErD,eAAeC,GAAe,CAC5B,MAAMC,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAgB,SAAS,cAAc,kBAAkB,EAE/DF,EAAO,iBAAiB,QAAS,MAAOG,GAAM,CAC5C,GAAI,CACF,MAAMC,EAAO,MAAMC,EAAY,qBAAqBJ,EAAY,KAAK,EACrEK,EAAmB,oBAAoBJ,EAAeE,CAAI,CAC3D,MAAe,CACdG,EAAYL,CAAa,CAC1B,CACL,CAAG,CACH,CAEAH,IAEA,eAAeD,GAAU,CACvB,MAAMI,EAAgB,SAAS,cAAc,kBAAkB,EAE/D,GAAI,CACF,MAAME,EAAO,MAAMC,EAAY,6BAC/BC,EAAmB,oBAAoBJ,EAAeE,EAAK,MAAM,CAClE,MAAe,CACdG,EAAYL,CAAa,CAC1B,CAEDA,EAAc,iBAAiB,QAASM,CAAmB,CAC7D,CAEA,SAASD,EAAYE,EAAW,CAC9B,QAAQ,MAAM,QAAQ,EACtBA,EAAU,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA,GAMxB,CAEA,eAAeD,EAAoBE,EAAO,CACxC,MAAMC,EAAeD,EAAM,OAAO,QAAQ,wBAAwB,EAClE,GAAI,CAACC,EAAc,OAGnB,MAAMC,EADeD,EAAa,QAAQ,kBAAkB,EAC5B,QAAQ,GAExC,GAAI,CACF,MAAMP,EAAO,MAAMC,EAAY,kBAAkBO,CAAU,EACrDC,EAAYP,EAAmB,YAAYF,EAAK,OAAO,CAAC,CAAC,EAC/D,SAAS,KAAK,mBAAmB,YAAaS,CAAS,EACvDC,GACD,OAAQC,EAAO,CACd,QAAQ,MAAM,oCAAqCA,CAAK,CACzD,CACH,CAEA,SAASD,GAAa,CACpB,MAAME,EAAW,SAAS,cAAc,4BAA4B,EACpEA,EAAS,UAAU,IAAI,YAAY,EAElBA,EAAS,cAAc,yBAAyB,EACxD,iBAAiB,QAAS,IAAM,CACvCA,EAAS,OAAM,CACnB,CAAG,EAEDA,EAAS,iBAAiB,QAAUN,GAAU,CACxCA,EAAM,SAAWM,GACnBA,EAAS,OAAM,CAErB,CAAG,CACH"}